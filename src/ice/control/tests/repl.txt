==============
BlueBream REPL
==============

:doctest:
:functional-zcml-layer: ftesting.zcml

  >>> root = getRootFolder()

  >>> from zope.interface.verify import verifyObject
  >>> from ice.control.repl.interfaces import IDispatcher, ISession, IPlugin
  >>> from ice.control.repl.dispatcher import Dispatcher

Create dispatcher::

  >>> dispatcher = Dispatcher()

  >>> verifyObject(IDispatcher, dispatcher)
  True

Create session::

  >>> credentials = dispatcher.set_session(root)

Get session using credentials::

  >>> session = dispatcher.get_session(*credentials)
  >>> verifyObject(ISession, session)
  True

Installed plugins::

  >>> session.get_plugins()
  {}

Context::

  >>> session.get_context() is root
  True

Eval simple code::

  >>> x = """
  ... def x1(a,b):
  ...     return a+b
  ... """
  ...

  >>> session.run(x)
  >>> session.run("s = x1(7, 9)")

  >>> session.run("print s")
  16

  >>> session.run("s") is None
  True
